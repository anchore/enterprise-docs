---
title: "Anchore Enterprise Notifications"
linkTitle: "Notifications"
weight: 4
---

### Glossary

**Event** An information packet generated by an Anchore Engine or Anchore Enterprise service to indicate some activity    
**Endpoint** External tool capable of receiving messages such as Slack, GitHub, Jira, MS Teams, email or webhook  
**Endpoint Configuration** Connection information of the endpoint used for sending messages  
**Selector** Criteria for selecting events to be notified

### Overview

Added in Anchore Enterprise v2.2

Anchore Enterprise includes Notifications service to alert external endpoints about Anchore Engine activity. Services that make up Anchore Engine and Anchore Enterprise generate events to record significant activity such as an update in the policy evaluation result or vulnerabilities for a tag, or an error analyzing an image. This service provides a mechanism to selectively notify events of interest to supported external endpoints. The actual notification itself depends on the endpoint - a formatted message for Slack, email, MS Teams and webhook endpoints, and tickets in a project for GitHub and Jira endpoints.   

### Installation

Anchore Enterprise Notifications is included with Anchore Enterprise, and is installed by default when deploying a trial quickstart with [Docker Compose]({{< ref "/docs/installation/docker_compose" >}}) or a production deployment [Kubernetes]({{< ref "/docs/installation/helm" >}}).

#### Configuration

The service loads configuration from the `notifications` section of the config.yaml. Following is a snippet of the configuration

```yaml
...
services:
  notifications:
    enabled: true
    require_auth: true
    endpoint_hostname: "<hostname>"
    listen: '0.0.0.0'
    port: 8228
    cycle_timers:
      notifications: 30
    # Set Anchore Enterprise UI base URL to receive UI links in notifications
    ui_url: "<enterprise-ui-url>"
    authorization_handler: external
    authorization_handler_config:
      endpoint: "<rbac-authorizer-endpoint>"
```

`cycle_timers -> notifications` controls how often the service checks for events in the system that need to be processed for notifications. Default is every 30 seconds

`ui_url` is used for constructing links to Enterprise UI pages in the notifications. Configure this property to the Enterprise UI's base URL. This URL should be accessible from the endpoint receiving the notification for the links to work correctly. If the value is unset, the notification message is still sent to the endpoint but it won't contain a clickable link to the Enterprise UI  

> NOTE: Any changes to the configuration requires a restart of the service for the updates to take effect

#### Permissions

TODO May be move this to API access
In an Anchore Enterprise RBAC enabled deployment the table below lists the required actions and containing roles     

| Description | Action | Roles |
| :---------- | :------| :---- |
| list all the available notification endpoints and their status | listNotificationEndpoints | Read Only, Read Write |
| list all available configurations for an endpoint | listNotificationEndpointConfigurations | Read Only, Read Write |
| get an endpoint configuration and associated selectors | getNotificationEndpointConfiguration | Read Only, Read Write |
| create an endpoint configuration and associated selectors | createNotificationEndpointConfiguration | Read Write |
| update an endpoint configuration and associated selectors | updateNotificationEndpointConfiguration | Read Write |
| delete an endpoint configuration and associated selectors | deletetNotificationEndpointConfiguration | Read Write |


### Concepts

Notifications service maintains the status and connection information for external tools using Anchore Engine's persistence layer. They are also referred by the service as 'Endpoint Status' and 'Endpoint Configuration' 

More importantly the service exposes a mechanism to select specific events and route their notifications to endpoint configurations. To understand more, skip to Selector section      
 
#### Endpoint Status

Reflects availability of an endpoint such as Slack, GitHub, Jira, MS Teams, email or webhook for the entire deployment. By default all the endpoint statuses are enabled out of the box. But the administrator can disable an endpoint preventing notifications from going out to all configurations of that specific endpoint. This is a system-wide setting that can only be updated by the administrator account and read only for all the remaining accounts 

#### Endpoint Configuration

Connection information for an endpoint. Each endpoint can have multiple configurations. This is an account wide setting   

#### Selector

- Anatomy of an event
- Selector fields explained


### See it in action

To learn more about configuring Notifications service in the Enterprise UI go to [Notifications]({{< ref "/docs/using/ui_usage/reports" >}})             

For using the API directly refer to <API Access link here> 


